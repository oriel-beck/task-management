<h2 mat-dialog-title>{{ data.task ? "Edit" : "Create" }}</h2>
<mat-dialog-content>
  <div class="controls">
    <div class="field">
      <mat-form-field appearance="outline" subscriptSizing="dynamic">
        <mat-label>Title</mat-label>
        <input matInput [formControl]="titleControl" />
      </mat-form-field>
    </div>

    <div class="field">
      <mat-form-field appearance="outline" subscriptSizing="dynamic">
        <mat-label>Description</mat-label>
        <input matInput [formControl]="descriptionControl" />
      </mat-form-field>
    </div>

    <div class="field">
      <mat-form-field appearance="outline" subscriptSizing="dynamic">
        <mat-label>Due Date</mat-label>
        <input
          [formControl]="dueDateControl"
          matInput
          [matDatepicker]="picker"
        />
        <mat-hint>DD/MM/YYYY</mat-hint>
        <mat-datepicker-toggle
          matIconSuffix
          [for]="picker"
        ></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </div>

    <div class="field">
      <mat-form-field appearance="outline" subscriptSizing="dynamic">
        <mat-label>Status</mat-label>
        <mat-select [formControl]="statusControl">
          @for (status of taskStatuses; track $index) {
          <mat-option [value]="status.value">{{ status.label }}</mat-option>
          }
        </mat-select>
      </mat-form-field>
    </div>
  </div>
</mat-dialog-content>
<mat-dialog-actions>
  <button mat-raised-button (click)="close(taskFormGroup.value)" [disabled]="taskFormGroup.invalid">Done</button>
  <button mat-stroked-button (click)="close()">Close</button>
</mat-dialog-actions>
